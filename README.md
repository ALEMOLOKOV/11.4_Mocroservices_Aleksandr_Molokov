# 11.4_Mocroservices_Aleksandr_Molokov

## Задача 1: Кластеризация

Предложите решение для обеспечения развёртывания, запуска и управления приложениями.
Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия.

Решение должно соответствовать следующим требованиям:
- поддержка контейнеров;
- обеспечивать обнаружение сервисов и маршрутизацию запросов;
- обеспечивать возможность горизонтального масштабирования;
- обеспечивать возможность автоматического масштабирования;
- обеспечивать явное разделение ресурсов, доступных извне и внутри системы;
- обеспечивать возможность конфигурировать приложения с помощью переменных среды, в том числе с возможностью безопасного хранения чувствительных данных таких как пароли, ключи доступа, ключи шифрования и т. п.

Обоснуйте свой выбор.

# Ответ

Ответ составил основываясь на статье https://habr.com/ru/companies/kts/articles/591355/

| Необходимые требования | Docker Swarm | Kubernetes | OpenShift | Nomad |
| --- | --- | --- | --- | --- |
| **Поддержка контейнеров** | ✔ | ✔ | ✔ | ✔ |
| **Обеспечивать обнаружение сервисов и маршрутизацию запросов** | ✔ | ✔ | ✔ |✔ |
| **Обеспечивать возможность горизонтального масштабирования** | ✔ | ✔ |  ✔ |✔ |
| **Обеспечивать возможность автоматического масштабирования** | ✖ | ✔ | ✔ |✔ |
| **Обеспечивать явное разделение ресурсов доступных извне и внутри системы** | ✔ | ✔ | ✔ |✔ |
| **Обеспечивать возможность конфигурировать приложения с помощью переменных среды** | ✔ | ✔ | ✔ |✔ |

## Docker Swarm

Оркестратор встроенный в Docker.
Docker Swarm состоит из менеджеров и воркеров. 
Менеджеры определяют, на каких воркерах и как будут работать контейнеры, и хранят стек нашего кластера. Контейнер крутится на воркерах. 

Плюсы
- бесплатный
- низкий порог входа специалистов
- не требователен кресурсам

Минусы
- работает только с Docker-контейнерами
- не поддерживает автоматическое масштабирование
- нет встроенной поддержки шаблонов
- поддерживает только одну стратегию обновления — Rolling Update.

## Nomad
Оркестратор от компании HashiCorp

Состоит из серверов, которые определяют, где и как живут объекты оркестрации, и клиентов, на которых эти объекты крутятся. 
В отличие от сервисов в Docker Swarm, в Nomad мы создаем рабочие сущности job. Они, в свою очередь, состоят из task. 
Чтобы создать job, мы пишем манифест и передаем его серверу, а он уже распределяет их по клиентам. 

Плюсы
- может оркестрирвоать не только контейнеры, но и виртуальные машины, бинарники Java, и даже Amazon Elastic Container Service.
- низкий порог входа специалистов, прост в первоначальной настройке
- не требователен кресурсам
- поддерживаются все популярные и нужные стратегии обновления

Минусы
- малое количество возможностей из коробки
- функция масштабирования доспутна в платных версиях
- манифесты пишутся на малораспространенном среди инженеров языке HCL

## Kubernetes
Kubernetes родился в стенах Google и был передан в open source. Среди сегодняшних контрибьюторов разработки Kubernetes используют множество крупных компаний, работает на Linux и Windows.
Kubernetes кластер состоит из узлов node и Control Plane, мастер-узла. 

Плюсы


Минусы
- требуеттвысокой квалификации 
- нет коммерческой поддержки

## OpenShift
Openshift работает исключительно на Red Hat Enterprise Linux. Имеет только Enterprise-версию с небольшим тестовым периодом. Помимо Kubernetes, там есть много других технологий: для доставки кода, мониторинга, сбора логов и т. д., «под капотом» Openshift находится Kubernetes. 

Плюсы


Минусы
- требуеттвысокой квалификации 
- работает исключительно на Red Hat Enterprise Linux




